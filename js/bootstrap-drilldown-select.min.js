"use strict";!function(a){a.fn.drilldownSelect=function(b){function c(b,f,g,h){g+="";var i=null!=g&&""!=g?g.split(","):[],j=d.data;if(i.length)for(var k=0;k<i.length;k++)for(var l=i[k],m=0;m<j.length;m++)if(j[m].id==l){j=j[m][d.listName];break}if(!j)return d.onSelected(f),b.dropdown("toggle"),e=!1,!1;e&&(b.dropdown("toggle"),e=!1);var n=b.parent();n.find("ul.dropdown-menu").remove();var o=a('<ul class="dropdown-menu" style="'+(d.height?"height: "+d.height+"px; ":"")+'overflow: auto;"></ul>'),p=null,q=null,r=i.slice();i.length&&(r.pop(),q=a('<li><a href="#" data-path="'+r.join(",")+'"><b>'+d.textBack+"</b></a></li>"),q.on("click",function(d){return b.html(b.attr("placeholder")),c(b,d,a(d.target).closest("[data-path]").data("path"),!0),!1}),o.append(q));for(var k=0;k<j.length;k++){p=j[k],r=i.slice(),r.push(p[d.keyName]);var s=void 0!=p[d.listName]&&p[d.listName]&&p[d.listName].length?"hasChild":"";q=a('<li class="'+s+'"><a href="#" data-path="'+r.join(",")+'" data-id="'+p[d.keyName]+'">'+p[d.valueName]+"</a></li>"),q.on("click",function(e){e.preventDefault();var f=a(e.target);b.html()==b.attr("placeholder")&&b.html("");var g=d.appendValue?(b.html()?b.html()+" - ":"")+f.html():f.html();return b.html(g),c(b,e,f.closest("[data-path]").data("path"),!0),!1}),o.append(q)}return o.insertAfter(b),h?(b.dropdown("toggle"),e=!0,!1):void 0}var d={left:15,height:200,data:[],keyName:"id",valueName:"name",listName:"list",appendValue:!0,textBack:"Back...",restartOnClick:!0,onSelected:function(b){alert(a(b.target).data("id"))}},b=a.extend(d,b),e=!1;return this.each(function(b){var f=a(this);f.html(f.attr("placeholder"));var g=f.parent();d.restartOnClick||c(f,null,"",!1),g.on("show.bs.dropdown",function(b){var c=a(b.relatedTarget),f=a(b.target).find(".dropdown-menu");f.width(c.outerWidth()-2),f.css("left",d.left),e=!0}),f.on("click",function(b){var e=a(b.target);e.html(e.attr("placeholder")),d.restartOnClick&&c(e,null,"",!1)})})}}(jQuery);
//# sourceMappingURL=bootstrap-drilldown-select.js.map