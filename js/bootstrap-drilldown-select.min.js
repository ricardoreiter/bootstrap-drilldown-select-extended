"use strict";!function(t){t.fn.drilldownSelect=function(e){function a(t,e){var n="";if(t.length){var l=t.shift();if(e)for(var r=0;r<e.length;r++)if(e[r].id==l){n+=e[r][i.valueName]+(t.length?i.pathSeparator+a(t,e[r][i.listName]):"");break}}return n}function n(t,e,n){var l=a(e,n);return l=i.appendValue?(t?t+" - ":"")+l:l}function l(e,a,d,h){s=d;if(!(d instanceof Array))var s=null!=(d+="")&&""!=d?d.split(","):[];var p=i.data;if(s.length)for(N=0;N<s.length;N++)for(var c=s[N],f=0;f<p.length;f++)if(p[f].id==c){p=p[f][i.listName];break}if(!p||!p.length)return i.onSelected(a),e.dropdown("toggle"),r=!1,o=!0,!1;r&&(e.dropdown("toggle"),r=!1,o&&(o=!1,i.onUnselect())),e.parent().find("ul.dropdown-menu").remove();var u=t('<ul class="dropdown-menu" style="'+(i.height?"height: "+i.height+"px; ":"")+'overflow: auto;"></ul>'),v=null,m=null,g=s.slice();s.length&&(g.pop(),(m=t('<li><a href="#" data-path="'+g.join(",")+'"><b>'+i.textBack+"</b></a></li>")).on("click",function(a){var n=e.find("span.text");return n.html(n.attr("placeholder")),l(e,a,t(a.target).closest("[data-path]").data("path"),!0),!1}),u.append(m));for(var N=0;N<p.length;N++){v=p[N],(g=s.slice()).push(v[i.keyName]);var w=!1===v[i.activeName]?"disabled":"",b=void 0!=v[i.listName]&&v[i.listName]&&v[i.listName].length?"hasChild":"",k=w?i.textDisabled:"",x='<li class="'+b+" "+w+'"><a href="#" data-path="'+g.join(",")+'" data-id="'+v[i.keyName]+'">'+v[i.valueName]+k+"</a></li>";m=t(x),w||m.on("click",function(a){a.preventDefault();var r=t(a.target),o=e.find("span.text");o.html()==o.attr("placeholder")&&o.html("");var d=i.showPath?r.data("path"):r.data("id"),h="string"==typeof d||d instanceof String?d.split(","):[d],s=n(o.html(),h,i.data);return o.html(s),l(e,a,r.closest("[data-path]").data("path"),!0),!1}),u.append(m)}return u.insertAfter(e),h?(e.dropdown("toggle"),r=!0,!1):void 0}var i={left:15,height:200,data:[],keyName:"id",valueName:"name",listName:"list",activeName:"active",appendValue:!0,textBack:"Back...",textDisabled:"",showPath:!0,pathSeparator:"<b> > </b>",onUnselect:function(){alert("unselected")},onSelected:function(e){alert(t(e.target).data("id"))}},e=t.extend(i,e),r=!1,o=!1;return this.each(function(e){var a=t(this),n=a.find("span.text");n.html(n.attr("placeholder"));var o=a.parent();l(a,null,"",!1),o.on("show.bs.dropdown",function(e){var a=t(e.relatedTarget),n=t(e.target).find(".dropdown-menu");n.width(a.outerWidth()-2),n.css("left",i.left),r=!0})}),this.setItemSelected=function(t){var e=t.slice(0),a=this.find("span.text"),r=n(a.html(),t,i.data);o=!0,a.html(r),e.pop(),l(this,null,e,!1)},this}}(jQuery);
//# sourceMappingURL=bootstrap-drilldown-select.js.map