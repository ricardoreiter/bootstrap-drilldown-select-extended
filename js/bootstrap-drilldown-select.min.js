"use strict";!function(a){a.fn.drilldownSelect=function(b){function c(a,b){var d="";if(a.length){var f=a.shift();if(b)for(var g=0;g<b.length;g++)if(b[g].id==f){d+=b[g][e.valueName]+(a.length?e.pathSeparator+c(a,b[g][e.listName]):"");break}}return d}function d(b,h,i,j){i+="";var k=null!=i&&""!=i?i.split(","):[],l=e.data;if(k.length)for(var m=0;m<k.length;m++)for(var n=k[m],o=0;o<l.length;o++)if(l[o].id==n){l=l[o][e.listName];break}if(!l)return e.onSelected(h),b.dropdown("toggle"),f=!1,g=!0,!1;f&&(b.dropdown("toggle"),f=!1,g&&(g=!1,e.onUnselect()));var p=b.parent();p.find("ul.dropdown-menu").remove();var q=a('<ul class="dropdown-menu" style="'+(e.height?"height: "+e.height+"px; ":"")+'overflow: auto;"></ul>'),r=null,s=null,t=k.slice();k.length&&(t.pop(),s=a('<li><a href="#" data-path="'+t.join(",")+'"><b>'+e.textBack+"</b></a></li>"),s.on("click",function(c){var e=b.find("span.text");return e.html(e.attr("placeholder")),d(b,c,a(c.target).closest("[data-path]").data("path"),!0),!1}),q.append(s));for(var m=0;m<l.length;m++){r=l[m],t=k.slice(),t.push(r[e.keyName]);var u=void 0!=r[e.listName]&&r[e.listName]&&r[e.listName].length?"hasChild":"";s=a('<li class="'+u+'"><a href="#" data-path="'+t.join(",")+'" data-id="'+r[e.keyName]+'">'+r[e.valueName]+"</a></li>"),s.on("click",function(f){f.preventDefault();var g=a(f.target),h=b.find("span.text");h.html()==h.attr("placeholder")&&h.html("");var i=e.showPath?g.data("path"):g.data("id"),j="string"==typeof i||i instanceof String?i.split(","):[i],k=c(j,e.data);return k=e.appendValue?(h.html()?h.html()+" - ":"")+k:k,h.html(k),d(b,f,g.closest("[data-path]").data("path"),!0),!1}),q.append(s)}return q.insertAfter(b),j?(b.dropdown("toggle"),f=!0,!1):void 0}var e={left:15,height:200,data:[],keyName:"id",valueName:"name",listName:"list",appendValue:!0,textBack:"Back...",showPath:!0,pathSeparator:"<b> > </b>",onUnselect:function(){alert("unselected")},onSelected:function(b){alert(a(b.target).data("id"))}},b=a.extend(e,b),f=!1,g=!1;return this.each(function(b){var c=a(this),g=c.find("span.text");g.html(g.attr("placeholder"));var h=c.parent();d(c,null,"",!1),h.on("show.bs.dropdown",function(b){var c=a(b.relatedTarget),d=a(b.target).find(".dropdown-menu");d.width(c.outerWidth()-2),d.css("left",e.left),f=!0})})}}(jQuery);
//# sourceMappingURL=bootstrap-drilldown-select.js.map